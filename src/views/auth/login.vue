<template>
  <div class="registration-wrapper">
    <div class="form_wrapper">
      <div class="form_wrapper__header">
        <svg width="230" height="55" viewBox="0 0 230 55" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M2.4375 8.16406C2.4375 8.85156 3.00625 9.45312 3.65625 9.45312C4.30625 9.45312 4.875 8.85156 4.875 8.16406C4.875 7.47656 4.30625 6.875 3.65625 6.875C3.00625 6.875 2.4375 7.47656 2.4375 8.16406Z" fill="#4E4BF2"/>
          <path d="M8.9375 8.07812C8.9375 9.10938 11.05 9.36719 19.5813 9.625C29.9813 9.88281 30.225 9.96875 32.0938 12.2031C33.2313 13.6641 34.9375 14.6094 36.6438 14.7812C40.1375 15.125 43.4688 19.8516 42.6563 23.2031C41.925 25.9531 41.925 29.0469 42.6563 31.7969C43.3875 34.8906 40.1375 39.875 36.9688 40.2188C35.6688 40.3906 33.3938 41.6797 31.85 43.0547C29.1688 45.5469 29.1688 45.5469 18.2813 45.5469C9.1 45.5469 7.3125 45.7188 7.3125 46.8359C7.3125 47.9531 9.1 48.125 18.3625 48.125C32.175 48.125 34.9375 47.3516 40.2188 41.6797C48.5063 33 48.5063 22 40.2188 13.3203C35.0188 7.73438 32.0938 6.875 19.175 6.875C10.8875 6.875 8.9375 7.13281 8.9375 8.07812Z" fill="#4E4BF2"/>
          <path d="M10.725 16.3281C8.69375 19.4219 8.20625 19.6797 4.7125 19.7656C1.7875 19.7656 0.8125 20.1094 0.8125 21.0547C0.8125 22 1.70625 22.3438 4.30625 22.3438H7.8L7.475 25.7812C7.23125 28.3594 7.39375 29.2188 8.36875 29.2188C9.18125 29.2188 9.66875 27.9297 10.075 25.0078C10.3187 22.6875 11.5375 19.4219 12.5937 17.7031C13.7312 15.9844 14.625 14.1797 14.625 13.75C14.625 11.8594 12.8375 13.0625 10.725 16.3281Z" fill="#4E4BF2"/>
          <path d="M47.45 19.0782C47.6937 20.1954 48.1812 22.6876 48.425 24.6641C48.9937 28.4454 51.1875 29.9922 51.1875 26.5547C51.1875 22.8594 49.3187 17.1876 48.1812 17.1876C47.2875 17.1876 47.0437 17.7032 47.45 19.0782Z" fill="#4E4BF2"/>
          <path d="M21.45 24.4922C19.9875 27.4141 19.9875 27.586 21.45 30.5079C24.1313 35.7501 29.9 35.6641 32.2563 30.5079C33.5563 27.6719 33.5563 27.3282 32.2563 24.4922C30.9563 21.6563 30.6313 21.4844 26.975 21.4844C23.2375 21.4844 22.9125 21.6563 21.45 24.4922Z" fill="#4E4BF2"/>
          <path d="M2.4375 33.9453C2.4375 34.8906 3.33125 35.2344 5.525 35.2344C8.125 35.3203 8.85625 35.75 10.725 38.6719C12.9188 42.0234 14.625 43.0547 14.625 41.1641C14.625 40.6484 13.8938 39.1875 12.9188 37.9844L11.2938 35.6641L13.325 34.9766C17.225 33.6016 15.4375 32.6562 8.9375 32.6562C3.7375 32.6562 2.4375 32.9141 2.4375 33.9453Z" fill="#4E4BF2"/>
          <path d="M66.6 10.6H75.9C79.4333 10.6 81.95 11.1 83.45 12.1C84.9833 13.0667 85.9333 14.65 86.3 16.85C86.6667 19.0167 86.85 22.6667 86.85 27.8C86.85 32.9333 86.6667 36.6 86.3 38.8C85.9333 40.9667 84.9833 42.55 83.45 43.55C81.95 44.5167 79.4333 45 75.9 45H66.6V10.6ZM75.8 38.95C77.2667 38.95 78.25 38.7833 78.75 38.45C79.2833 38.0833 79.6167 37.2 79.75 35.8C79.9167 34.4 80 31.7333 80 27.8C80 23.9 79.9167 21.25 79.75 19.85C79.5833 18.4167 79.25 17.5333 78.75 17.2C78.25 16.8333 77.2667 16.65 75.8 16.65H73.45V38.95H75.8ZM101.455 45.4C97.988 45.4 95.5214 44.9 94.0547 43.9C92.588 42.8667 91.6714 41.2333 91.3047 39C90.938 36.7333 90.7547 33 90.7547 27.8C90.7547 22.5667 90.938 18.8333 91.3047 16.6C91.6714 14.3667 92.588 12.75 94.0547 11.75C95.5214 10.7167 97.988 10.2 101.455 10.2C104.921 10.2 107.388 10.7167 108.855 11.75C110.321 12.75 111.238 14.3667 111.605 16.6C111.971 18.8333 112.155 22.5667 112.155 27.8C112.155 33 111.971 36.7333 111.605 39C111.238 41.2333 110.321 42.8667 108.855 43.9C107.388 44.9 104.921 45.4 101.455 45.4ZM101.455 39.35C102.788 39.35 103.688 39.1667 104.155 38.8C104.621 38.4333 104.921 37.5333 105.055 36.1C105.188 34.6667 105.255 31.9 105.255 27.8C105.255 23.7 105.188 20.9333 105.055 19.5C104.921 18.0667 104.621 17.1667 104.155 16.8C103.688 16.4333 102.788 16.25 101.455 16.25C100.121 16.25 99.2214 16.4333 98.7547 16.8C98.288 17.1667 97.988 18.0667 97.8547 19.5C97.7214 20.9333 97.6547 23.7 97.6547 27.8C97.6547 31.9 97.7214 34.6667 97.8547 36.1C97.988 37.5333 98.288 38.4333 98.7547 38.8C99.2214 39.1667 100.121 39.35 101.455 39.35ZM116.698 10.6H128.048C130.481 10.6 132.314 11.0333 133.548 11.9C134.814 12.7667 135.664 14.0333 136.098 15.7C136.531 17.3333 136.748 19.5167 136.748 22.25C136.748 24.8833 136.548 27.0333 136.148 28.7C135.748 30.3333 134.914 31.6333 133.648 32.6C132.381 33.5333 130.498 34 127.998 34H123.598V45H116.698V10.6ZM126.298 27.95C127.431 27.95 128.231 27.8167 128.698 27.55C129.164 27.2833 129.464 26.7833 129.598 26.05C129.764 25.2833 129.848 24.0167 129.848 22.25C129.848 20.4833 129.764 19.2333 129.598 18.5C129.464 17.7667 129.164 17.2833 128.698 17.05C128.264 16.7833 127.481 16.65 126.348 16.65H123.598V27.95H126.298ZM153.916 45L152.566 37.95H144.866L143.516 45H136.666L143.766 10.6H153.816L160.916 45H153.916ZM148.866 17.1H148.566L145.866 32H151.516L148.866 17.1ZM166.828 45V33.1L158.678 10.6H165.728L170.228 25.45H170.678L175.028 10.6H181.828L173.678 33.1V45H166.828ZM196.836 45L195.486 37.95H187.786L186.436 45H179.586L186.686 10.6H196.736L203.836 45H196.836ZM191.786 17.1H191.486L188.786 32H194.436L191.786 17.1ZM219.034 45.3C218.168 45.3667 217.451 45.4 216.884 45.4C213.418 45.4 210.951 44.9 209.484 43.9C208.018 42.8667 207.101 41.2333 206.734 39C206.368 36.7667 206.184 33.0333 206.184 27.8C206.184 22.5667 206.368 18.8333 206.734 16.6C207.101 14.3667 208.018 12.75 209.484 11.75C210.951 10.7167 213.418 10.2 216.884 10.2C220.318 10.2 222.768 10.7167 224.234 11.75C225.734 12.75 226.668 14.3833 227.034 16.65C227.401 18.8833 227.584 22.6 227.584 27.8C227.584 32.5 227.418 35.95 227.084 38.15C226.784 40.35 226.051 42.0333 224.884 43.2L229.384 50.5V50.75H222.134L219.034 45.3ZM216.884 39.35C218.218 39.35 219.118 39.1667 219.584 38.8C220.051 38.4333 220.351 37.5333 220.484 36.1C220.618 34.6333 220.684 31.8667 220.684 27.8C220.684 23.7333 220.618 20.9833 220.484 19.55C220.351 18.0833 220.051 17.1667 219.584 16.8C219.118 16.4333 218.218 16.25 216.884 16.25C215.551 16.25 214.651 16.4333 214.184 16.8C213.718 17.1667 213.418 18.0667 213.284 19.5C213.151 20.9333 213.084 23.7 213.084 27.8C213.084 31.9 213.151 34.6667 213.284 36.1C213.418 37.5333 213.718 38.4333 214.184 38.8C214.651 39.1667 215.551 39.35 216.884 39.35Z" fill="white"/>
        </svg>
      </div>
      <div class="form_wrapper__body">
        <h1>Log in</h1>
        <BaseTextField v-model="form.email" :placeholder="'email'"/>
        <BaseTextField type="password" v-model="form.password" :placeholder="'password'"/>
        <button class="form_wrapper__btn" @click="login">Sign In</button>
      </div>
    </div>
  </div>
</template>

<script>
import BaseTextField from "@/components/base/BaseTextField";
import axios from "axios";
export default {
  // eslint-disable-next-line vue/multi-word-component-names
  name:'Login',
  components: {BaseTextField},
  data() {
    return {
      form: {
        email: null,
        password: null
      }
    }
  },
  methods: {
    async login() {
      try {
        return await axios.post(process.env.VUE_APP_BASE_API + '/v1/profile/login',this.form).then( async(res) => {
          this.$cookies.set('jwt', res.data.token)
          await this.$router.push('/events')
          return await axios.get(process.env.VUE_APP_BASE_API + '/v1/profile',{
            headers: {
              Authorization: `Bearer ${this.$cookies.get('jwt')}`,
            }
          }).then((res) => {
            this.$cookies.set('user',res.data)
          })
        })
      } catch (e) {
        console.log(e)
      }
    }
  }
}
</script>

<style scoped lang="scss">
@import url('https://fonts.googleapis.com/css2?family=Inter&family=Saira+Condensed:wght@700&display=swap');
.registration-wrapper {
  background: url("../../assets/match.png");
  background-size: cover;
  //height: 100vh;
  display: flex;
}
.form_wrapper {
  display: flex;
  flex-direction: column;
  min-width: 500px;
  margin: 145px auto;
  &__header {
    background: #000000;
    //min-width: 500px;
    padding: 37px 0;
    display: flex;
    justify-content: center;
    //padding: 37px auto;
  }
  &__body {
    background: #E8E7E8;
    padding: 25px 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    h1{
      font-family: 'Saira Condensed';
      font-style: normal;
      font-weight: 700;
      font-size: 50px;
      line-height: 110%;
      text-align: center;
      text-transform: uppercase;
      color: #000000;
      margin: 0 0 35px 0;
    }
  }
  &__btn {
    padding: 10px;
    background: #4E4BF2;
    border:none;
    font-family: 'Saira Condensed';
    font-style: normal;
    font-weight: 700;
    font-size: 36px;
    line-height: 110%;
    text-align: center;
    text-transform: uppercase;
    color: #FFFFFF;
    cursor: pointer;
  }
}
@media only screen and (max-width: 600px) {
  .registration-wrapper {
    //display: none;
    //height: 100%;
  }
  .form_wrapper {
    min-width: 300px;
    margin: 100px auto;
  }
}
</style>
